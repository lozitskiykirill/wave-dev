<div class="activity-page">
  <div class="page-container">
    <div class="breadcrumbs_wrap">
      <app-breadcrumbs></app-breadcrumbs>
    </div>
    <div class="container">
      <div class="container_wrap">
      <div class="activity">

        <div class="activity_header" style="position: relative">
          <app-rating-box></app-rating-box>
        </div>

        <div class="card_title">
          <div class="card_title-name-likes">
            <div>
              <span class="activity_title" [routerLink]="['/provider']">
                {{activity.title}}
              </span>
              <div class="inline_block_wrapper">
              <span class="activity_type">
                {{activity.type}}
              </span>
              <app-like-item></app-like-item>
              </div>
              <div class="card_location-reviews">
                <div class="card_location">
                  <div class="inline_block_wrapper">
                    <span class="activity_address">{{activity.address}}</span>
                  </div>
                  <div class="inline_block_wrapper">
                  <span class="location_icon"><img src="../../../../assets/images/icons/pin.svg" alt=""></span>
                  <span>4 км от центра</span>
                  </div>
                </div>
                <div class="card_reviews">
                  <a href="#" title="" class="card_reviews_a">123 отзывов</a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="activity_picture">
          <div class="activity_img">
            <img src="{{image}}" alt="">
          </div>
        </div>
        <div class="activity-buttons_wrapper">

          <div class="activity-buttons">

            <div class="activity-buttons-prev">
              <img src="../../../../assets/images/icons/arrow-slider-left.svg" alt="<">
            </div>

            <swiper [config]="configActivityButtonsSlider">
              <ng-template swiperSlide *ngFor="
                let fares of activityFares">
              <button class="button-gradient activity_button" [ngClass]="activeButton === fares.id ? 'activeButton' : 'inactiveButton'" 
              (click)="this.changeActivityData(fares.id)" data-id="{{fares.id}}">
                <span>{{fares.name}}</span>
              </button>
            </ng-template>
            </swiper>

            <div class="activity-buttons-next">
              <img src="../../../../assets/images/icons/arrow-slider-right.svg" alt=">">
            </div>
            

          </div>
        </div>

        <div class="activity_inner">
          <div class="activity_right">

            <div class="btn btn-default booking_button" routerLink="/order">
              <span>Перейти к бронированию</span>
            </div>

            <div class="activity_fares" [class.sale_height]="this.isSale" 
            [ngClass]="fareActivityStatus ? 'af_show' : 'activity_fares'">
              <div class="fares_sale_title" *ngIf="this.isSale">
                <img src="../../../../assets/images/icons/sale.svg" alt="">
              </div>
              <div class="activity_fares_title">
                Тарифы:
              </div>

              <div class="sale_description" *ngIf="this.isSale">
                У этого провайдера доступен невозвратный тариф
              </div>

              <div class="activity_fares_wrap">

                <div class="fares_left_title">
                  Длительность
                </div>

                <div class="fares_right_title">
                  Цена
                </div>

                <ng-container *ngFor=" let option of fare">
                  <div class="fares_left">
                    {{option.name}}
                  </div>

                  <div class="fares_right">
                    <span *ngIf=option.old_price>{{option.old_price}}</span>
                    {{option.price}} грн.
                  </div>
                </ng-container>

              </div>

              <div class="activity_show_more">
                <span (click)="faresShowHide()">{{fareActivityButtonText}}</span>
              </div>

            </div>

          </div>
          <div class="activity_left">
            <div class="activity_description_wrap" >
              <div class="activity_description_item" *ngFor=" let description of activityData.descriptions">
                <div class="description_title">
                  {{description.title}}
                </div>
                <div class="description_text">
                  {{description.text}}
                </div>
              </div>
            </div>

            <div class="activity_labels">
                <div class="activity_labels-item" *ngFor=" let label of activity.label">
                  {{label.name}}
                  <img src="{{label.image}}" alt="">
                </div>
            </div>

            <div class="activity_facilities">
              <div class="facilities_title">Удобства:</div>
              <div class="facilities-wrapper">
                <div *ngFor="let facility of activity.facilities">
                  <div class="facilities_item">
                    <img src="{{facility.icon}}" alt="">
                    {{facility.name}}
                  </div>
                </div>
              </div>

              <div class="facilities_title">Время работы:</div>
              <div class="working-hours-wrapper">
                <div class="working-hours-items" *ngFor="let time of activity.worktime">
                  <div>
                    {{time.value}}
                  </div>
                </div>
              </div>

            </div>
          </div>
          
        </div>
      
        <div class="guest_wrap">
          <div class="facilities_title">По мнению гостей:</div>
          <div class="guest-rating-wrapper">
            <div class="" *ngFor="let rate of activity.rating">

              <div class="guest_rating_item">
                
                <div class="guest_rating_name">
                  {{rate.name}}
                </div>

                <div class="guest_rating_bar_wrap">
                  <div class="guest_rating_bar"><div style="width: {{rate.rating * 10}}%;"></div></div>
                  <div class="guest_rating_num">{{rate.rating}}</div>
                </div>

              </div>

            </div>
          </div>
        </div>
      </div>

      <div class="feedback_wrap">

        <div class="feedback_title">Отзывы</div>

        <div class="activity-feedback-wrapper" *ngFor="let feedback of feedbacks">
          <app-feedback [feedbackData] = "feedback"></app-feedback>
        </div>

      </div>

      <div class="activity_recent">
        <div class="activity_recent_title">Другие активности</div>

        <div class="activity_recent_wrapper">
          <div class="activity_recent_menu">
            <a href="#">Аренда снаряжения</a>
            <a href="#">Пешие туры</a>
            <a href="#">Картинг</a>
            <a href="#">Пейнтбол</a>
            <a href="#">Прыжки с парашютом</a>
            <a href="#">Рафтинг</a>
          </div>

          <div class="activity_recent_slider">
              <div class="activity_recent_buttons">
                <div class="search_prev">
                  <img src="../../../../assets/images/icons/arrow-slider-left.svg" alt="<">
                </div>
                <div class="search_next">
                  <img src="../../../../assets/images/icons/arrow-slider-right.svg" alt=">">
                </div>
              </div>
              <swiper [config]="configRecentSlider">
                <ng-template swiperSlide *ngFor="let popularActivity of popularActivities">
                  <app-popular-activity [popularActivity]="popularActivity">
                  </app-popular-activity>
                </ng-template>
              </swiper>
          </div>
        </div>
      </div>
      <app-chat></app-chat>
    </div>
    </div>
  </div>
</div>
